<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>DEEVA</title>

    <link rel="stylesheet" href="https://d19vzq90twjlae.cloudfront.net/leaflet-0.7/leaflet.css" />
    <link rel="stylesheet" href="assets/libraries/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="assets/libraries/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="/assets/libraries/dist/leaflet-list-markers.css">
    <link rel="stylesheet" href="/assets/libraries/dist/Control.MiniMap.min.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/css/autoComplete.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">



    <!-- jquery -->
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <!-- d3 requied lib -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script src="http://d3js.org/d3.v5.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://unpkg.com/d3-simple-slider"></script>
    <!-- leaflet (map) -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
    <script src="assets/libraries/dist/leaflet.markercluster.js"></script>
    <script src="/assets/javascript/leaflet.ajax.min.js"></script>
    <script src="/assets/libraries/listMarkers.js"></script>
    <script src="/assets/libraries/dist/Control.MiniMap.min.js"></script>
    <!-- font awesomse -->
    <script src="https://kit.fontawesome.com/d48741e927.js" crossorigin="anonymous"></script>

    <!-- Basic site functionality -->
    <script defer src="/assets/javascript/main.js"></script>
    <script defer src="/assets/javascript/mapBox.js"></script>
    <script defer src="/assets/javascript/autocomplete.js"></script>
    <script defer src="/assets/javascript/detail.js"></script>
    <script defer src="/assets/javascript/phasehandler.js"></script>
   


    <!--Auto-complete functionality-->
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/js/autoComplete.min.js"></script>


    <!-- filter widget compontents -->
    <script defer src="assets/javascript/filtering.js" 
                name="grades"
                api="/api/stats/grades" 
                title="Mean Grades"
                gtick="12"
                gindex="-3"
                version="1"
                gdefault="2,10">
    </script>

    <script defer src="assets/javascript/filtering.js" 
                name="students"
                api="/api/stats/students" 
                title="Students"
                gtick="6"
                gdefault="15,30">
    </script>

    <script defer src="assets/javascript/filtering.js" 
                name="absence"
                api="/api/stats/absence" 
                title="Student Abesence"
                gtick="6"
                gdefault="0,5">
    </script>

    <script defer src="assets/javascript/filtering.js" 
                name="well_being"
                api="/api/stats/well_being" 
                title="Student Well Being"
                gtick="6"
                gdefault="0,5">
    </script>

    <script defer src="assets/javascript/filtering.js" 
                name="competence"
                api="/api/stats/competence" 
                title="Competence "
                gtick="10"
                gdefault="0,100">
    </script>

</head>
<body>
    <div>
        <div id="map" src="/assets/javascript/mapBox.js">
            <div class="info"></div>
        </div>

        <div id="mainCon" class="row">
            <div id="selectedList" class="col-3">
            </div>
            <div id="detailBox" class="col-6">
                <div>
                    <h1 id="schoolName"></h1>
                    <p id="mail"></p>
                    <p id="phone"></p>
                    <p id="address"></p>
                    <p id="website"></p>
                    
                    <div style ="display: flex; align-items: baseline;">
                    <p id="avgrade">Average Grade: </p> <a class="btn btn-primary hidden" id="gradeBtn" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample" style="margin-left: 10px;">
                        7.5
                    </a>
                    </div>
        
                    <div class="collapse  multi-collapse" id="collapseExample">
                        <div class="card card-body">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th scope="col">Type</th>
                                    <th scope="col">Grade</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope="row">Boy's Average</th>
                                    <td id="bmean"><div class="loading"/></td>
                                </tr>
                                <tr>
                                    <th scope="row">Girl's Average</th>
                                    <td id="gmean"><div class="loading"/></td>
                                </tr>
                                <tr>
                                    <th scope="row">Students With over 2</th>
                                    <td id="over"><div class="loading"/></td>                               
                                </tr>
                                </tbody>
                            </table>                    
                        </div>
                    </div>

                    <p>Total Students: <a id="totalStudents"></a></p>
                    <p>Students per class: <a id="students2"></a></p>

                    

                    <div style ="display: flex; align-items: baseline;">
                        <p id="abs">Absence: </p>
                        <a class="btn btn-primary" id="absenceBtn" data-toggle="collapse" href="#collapseAbesence" role="button" aria-expanded="false" aria-controls="collapseAbsence" style="margin-left: 10px;">
                            3%
                        </a>
                    </div>
            
                        <div class="collapse  multi-collapse" id="collapseAbesence">
                            <div class="card card-body">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th scope="col">Grade</th>
                                        <th scope="col">Absence</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th scope="row">Tenth Grade</th>
                                        <td id="tenthGrade"><div class="loading"/></td>
                                    </tr>
                                    <tr>
                                        <th scope="row">School Leaving Grades</th>
                                        <td id="gradschool"><div class="loading"/></td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Middlegrade</th>
                                        <td id="middleschool"><div class="loading"/></td>                               
                                    </tr>
                                    <tr>
                                        <th scope="row">Kindergrade</th>
                                        <td id="kinderschool"><div class="loading"/></td>                               
                                    </tr>
                                    </tbody>
                                </table>                    
                            </div>
                        </div>

                        <p>Studetns Well-Being: <a id="wbLabel"></a></p>

                        <select class="custom-select" id="year" onchange="updateYear()">
                            <option value="2019" selected>2019</option>
                            <option value="2018">2018</option>
                            <option value="2017">2017</option>
                            <option value="2016">2016</option>
                            <option value="2015">2015</option>
                            <option value="2014">2014</option>
                            <option value="2013">2013</option>
                        </select>

                        <table class="table table-striped" id="planned_hours">
                            <thead>
                            <tr>
                                <th scope="col">Grade</th>
                                <th scope="col">Planned hours</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th scope="row"><div class="loading"/></th>
                                <td ><div class="loading"/></td>
                            </tr>
                            </tbody>
                        </table>   


                    <button class="btn btn-light" onclick="addSelected()">Add</button>
                </div>
            </div>
            <div id="relationList" class="col-sm"></div>
        </div>
  

        <div id="filterBox" class="hidden">
            <div id="grades" class="deactiveFilter"></div>
            <div id="students" class="deactiveFilter"></div>
            <div id="absence" class="deactiveFilter"></div>
            <div id="well_being" class="deactiveFilter"></div>
            <div id="competence" class="deactiveFilter"></div>
        </div>

        <div id="collectedSchools">
            <h3>Selected Schools</h3>
            <div id="schoolContainer"></div>
            <button id="filterNext" onclick="updatePhase(2)" class="conBtn">Continue</button>
        </div>

     
        <div id="communeSelector" class="active">
            <div>    
                <div id="SearchBar">
                    <input id="autoComplete" tabindex="1">    <!-- Default "id" value = "autoComplete"> -->
                </div>
                    <h2>Communes</h2>
                <div id="kommunes"></div>
                    <button id="markerButton" class="conBtn">Continue</button>
            </div>
        </div>
    </div>

    <div id="navBar">
        <ul class ="nav-ul">
            <li class ="nav-li"><div class="navItem" id="overview" onclick="updatePhase(0)">Overview</div></li>
            <li class ="nav-li"><i class="fas fa-caret-right naactive"></i></li>
            <li class ="nav-li"><div class="navItem boxDeactive" id="filter" onclick="updatePhase(1)">Filter</div></li>
            <li class ="nav-li"><i class="fas fa-caret-right nanoactive" ></i></li>
            <li class ="nav-li"><div class="navItem boxDeactive" id="detail" onclick="updatePhase(2)">Detail</div></li>
            <li class ="nav-li"><i class="fas fa-caret-right nanoactive"></i></li>
            <li class ="nav-li"><div class="navItem boxDeactive" id="relation" onclick="updatePhase(3)">Relation</div></li>
            <li class ="nav-li"><i class="fas fa-caret-right nanoactive"></i></li>
            <li class ="nav-li"><div class="navItem boxDeactive" id="presentation" onclick="updatePhase(4)">Presentation</div></li>
          </ul> 
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>
</html>